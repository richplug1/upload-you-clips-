import{c as u,r as d,u as E,j as e,A as x,X as M,a as S,E as C,R,Z as A,b as L}from"./index-D6Sn6hA0.js";/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=u("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=u("Wifi",[["path",{d:"M5 13a10 10 0 0 1 14 0",key:"6v8j51"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]),D=({className:g=""})=>{const[p,r]=d.useState([]),[o,i]=d.useState(!1),[c,j]=d.useState(null),{getErrors:m,getErrorStats:y,markAsResolved:b,clearErrors:v,onError:h}=E();d.useEffect(()=>(r(m({resolved:!1})),h(a=>{r(l=>[a,...l]),(a.severity==="high"||a.severity==="critical")&&i(!0)})),[m,h]);const t=y(),n=p.filter(s=>!s.resolved),f=s=>{switch(s){case"javascript":return e.jsx(z,{className:"w-4 h-4"});case"network":return e.jsx(H,{className:"w-4 h-4"});case"validation":return e.jsx(L,{className:"w-4 h-4"});case"upload":return e.jsx(A,{className:"w-4 h-4"});case"processing":return e.jsx(R,{className:"w-4 h-4"});default:return e.jsx(x,{className:"w-4 h-4"})}},N=s=>{switch(s){case"low":return"bg-blue-100 text-blue-800 border-blue-200";case"medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"high":return"bg-orange-100 text-orange-800 border-orange-200";case"critical":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},w=s=>{b(s),r(a=>a.map(l=>l.id===s?{...l,resolved:!0}:l))},k=()=>{v(),r([]),i(!1)};return n.length===0?null:e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`fixed top-4 right-4 z-40 ${g}`,children:e.jsxs("button",{onClick:()=>i(!o),className:"relative flex items-center space-x-2 bg-red-500 text-white px-3 py-2 rounded-full shadow-lg hover:bg-red-600 transition-all duration-200",children:[e.jsx(x,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:n.length}),t.bySeverity.critical>0&&e.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-yellow-400 rounded-full animate-pulse"})]})}),o&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-start justify-end p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full max-h-[80vh] overflow-hidden",children:[e.jsxs("div",{className:"p-4 border-b border-gray-200 bg-gradient-to-r from-red-50 to-orange-50",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-red-100 rounded-full flex items-center justify-center",children:e.jsx(x,{className:"w-4 h-4 text-red-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Error Reporter"}),e.jsxs("p",{className:"text-sm text-gray-600",children:[n.length," unresolved issues"]})]})]}),e.jsx("button",{onClick:()=>i(!1),className:"w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center hover:bg-gray-200 transition-colors",children:e.jsx(M,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"mt-3 grid grid-cols-4 gap-2",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-lg font-bold text-red-600",children:t.bySeverity.critical}),e.jsx("div",{className:"text-xs text-gray-600",children:"Critical"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-lg font-bold text-orange-600",children:t.bySeverity.high}),e.jsx("div",{className:"text-xs text-gray-600",children:"High"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-lg font-bold text-yellow-600",children:t.bySeverity.medium}),e.jsx("div",{className:"text-xs text-gray-600",children:"Medium"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-lg font-bold text-blue-600",children:t.bySeverity.low}),e.jsx("div",{className:"text-xs text-gray-600",children:"Low"})]})]})]}),e.jsx("div",{className:"overflow-y-auto max-h-96",children:n.map(s=>e.jsx("div",{className:"p-4 border-b border-gray-100 hover:bg-gray-50 transition-colors",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"flex-shrink-0 mt-0.5",children:f(s.type)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${N(s.severity)}`,children:s.severity}),e.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 rounded-full text-xs font-medium",children:s.type}),s.component&&e.jsx("span",{className:"px-2 py-1 bg-purple-100 text-purple-700 rounded-full text-xs font-medium",children:s.component})]}),e.jsx("p",{className:"text-sm text-gray-900 mb-2 line-clamp-2",children:s.message}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-gray-500",children:s.timestamp.toLocaleTimeString()}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{onClick:()=>j(c===s.id?null:s.id),className:"text-xs text-blue-600 hover:text-blue-800 transition-colors flex items-center space-x-1",children:[c===s.id?e.jsx(S,{className:"w-3 h-3"}):e.jsx(C,{className:"w-3 h-3"}),e.jsx("span",{children:c===s.id?"Hide":"Details"})]}),e.jsx("button",{onClick:()=>w(s.id),className:"text-xs text-green-600 hover:text-green-800 transition-colors",children:"Resolve"})]})]}),c===s.id&&e.jsx("div",{className:"mt-3 p-3 bg-gray-50 rounded-lg",children:e.jsxs("div",{className:"space-y-2 text-xs",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-700",children:"ID:"}),e.jsx("span",{className:"ml-2 text-gray-600 font-mono",children:s.id})]}),s.url&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-700",children:"URL:"}),e.jsx("span",{className:"ml-2 text-gray-600 break-all",children:s.url})]}),s.action&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Action:"}),e.jsx("span",{className:"ml-2 text-gray-600",children:s.action})]}),s.context&&Object.keys(s.context).length>0&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Context:"}),e.jsx("pre",{className:"ml-2 text-gray-600 text-xs bg-white p-2 rounded border overflow-x-auto",children:JSON.stringify(s.context,null,2)})]}),s.stack&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Stack Trace:"}),e.jsx("pre",{className:"ml-2 text-gray-600 text-xs bg-white p-2 rounded border overflow-x-auto max-h-32",children:s.stack})]})]})})]})]})},s.id))}),e.jsx("div",{className:"p-4 border-t border-gray-200 bg-gray-50",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-xs text-gray-600",children:["Last updated: ",new Date().toLocaleTimeString()]}),e.jsx("button",{onClick:k,className:"px-3 py-1 bg-red-500 text-white rounded-lg text-xs hover:bg-red-600 transition-colors",children:"Clear All"})]})})]})})]})};export{D as default};
